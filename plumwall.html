<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plum Wall - Plum Living</title>
    
    <!-- Fonts -->
    <link rel="stylesheet" href="fonts/fonts.css">
    
    <!-- Shared Styles -->
    <link rel="stylesheet" href="shared/styles/variables.css">
    <link rel="stylesheet" href="shared/styles/reset.css">
    <link rel="stylesheet" href="shared/components/navbar.css">
    <link rel="stylesheet" href="shared/styles/fade-transitions.css">
    <link rel="stylesheet" href="navbar.css">
    
    <!-- Page Styles -->
    <link rel="stylesheet" href="plum-plumwall/styles.css">
    <link rel="stylesheet" href="plum-plumwall/project-transition.css">
    <script src="shared/scripts/fade-navigation.js"></script>
    <script>
        // Désactiver le fade pour cette page
        (function() {
            if (sessionStorage.getItem('fadeNavigation') === 'true') {
                sessionStorage.removeItem('fadeNavigation');
            }
            // S'assurer que le body est visible immédiatement
            document.documentElement.style.opacity = '1';
            if (document.body) {
                document.body.style.opacity = '1';
                document.body.classList.add('page-loaded');
            } else {
                document.addEventListener('DOMContentLoaded', function() {
                    document.body.style.opacity = '1';
                    document.body.classList.add('page-loaded');
                });
            }
        })();
    </script>
</head>
<body class="page-loaded">
    <!-- Navbar -->
    <nav class="navbar navbar-white navbar-has-hover">
        <div class="navbar-container">
            <!-- Logo -->
            <div class="navbar-logo">
                <a href="home.html" class="logo-link">
                    <img src="images/logo.png" alt="plum living" class="logo-image logo-white" style="display: none;">
                    <img src="images/logo-black.png" alt="plum living" class="logo-image logo-black">
                </a>
            </div>

            <!-- Navigation principale -->
            <ul class="navbar-nav">
                <li class="nav-item nav-item-dropdown">
                    <a href="#" class="nav-link">CONCEPT</a>
                    <div class="dropdown-menu">
                        <div class="dropdown-content">
                            <div class="dropdown-columns">
                                <div class="dropdown-column">
                                    <div class="dropdown-section-title">Découvrir</div>
                                    <a href="#" class="dropdown-link">Le concept Plum Living</a>
                                    <a href="#" class="dropdown-link">Nos couleurs</a>
                                    <a href="#" class="dropdown-link">Nos engagements</a>
                                    <a href="#" class="dropdown-link">FAQ</a>
                                </div>
                                <div class="dropdown-column">
                                    <div class="dropdown-section-title">Je commence</div>
                                    <a href="#" class="dropdown-link">Échantillons</a>
                                    <a href="#" class="dropdown-link">Showroom</a>
                                    <a href="#" class="dropdown-link">Conception au showroom</a>
                                    <a href="#" class="dropdown-link">Club Pro</a>
                                    <a href="poseurs.html" class="dropdown-link">Trouver un poseur</a>
                                </div>
                            </div>
                            <div class="dropdown-media-group">
                                <div class="dropdown-media">
                                    <div class="dropdown-media-image">
                                        <img src="images/couleur.jpg" alt="Nos couleurs">
                                        <div class="dropdown-media-overlay">
                                            <div class="dropdown-media-content">
                                                <h5 class="dropdown-media-title">Nos couleurs</h5>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="dropdown-media">
                                    <div class="dropdown-media-image">
                                        <img src="images/showroom.jpg" alt="Le Showroom">
                                        <div class="dropdown-media-overlay">
                                            <div class="dropdown-media-content">
                                                <h5 class="dropdown-media-title">Le Showroom</h5>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="nav-item nav-item-dropdown">
                    <a href="#" class="nav-link">CUISINE</a>
                    <div class="dropdown-menu">
                        <div class="dropdown-content">
                            <div class="dropdown-columns">
                                <div class="dropdown-column">
                                    <div class="dropdown-section-title">INSPIRATION</div>
                                    <a href="#" class="dropdown-link">Nos cuisines chez vous</a>
                                    <a href="plumwall.html" class="dropdown-link">Gallerie projets</a>
                                </div>
                                <div class="dropdown-column">
                                    <div class="dropdown-section-title">OUTILS & SERVICES</div>
                                    <a href="styler.html" class="dropdown-link">Styler 3D</a>
                                    <a href="#" class="dropdown-link">Estimation en 2min</a>
                                    <a href="#" class="dropdown-link">Estimation et devis</a>
                                    <a href="#" class="dropdown-link">Prendre rendez-vous</a>
                                </div>
                                <div class="dropdown-column">
                                    <div class="dropdown-section-title">SHOP</div>
                                    <a href="#" class="dropdown-link">Échantillons</a>
                                    <a href="#" class="dropdown-link">Façades Metod</a>
                                    <a href="#" class="dropdown-link">Plans de travail</a>
                                    <a href="#" class="dropdown-link">Poignées</a>
                                    <a href="#" class="dropdown-link">Étagères</a>
                                    <a href="#" class="dropdown-link">Meubles ouverts</a>
                                </div>
                                <div class="dropdown-column">
                                    <div class="dropdown-section-title hidden-title">SHOP</div>
                                    <a href="#" class="dropdown-link">Mitigeurs</a>
                                    <a href="#" class="dropdown-link">Eviers</a>
                                    <a href="#" class="dropdown-link">Crédences</a>
                                    <a href="#" class="dropdown-link">Carreaux</a>
                                    <a href="#" class="dropdown-link">Plinthes</a>
                                    <a href="#" class="dropdown-link">Peinture</a>
                                </div>
                            </div>
                            <div class="dropdown-media">
                                <div class="dropdown-media-image">
                                    <img src="images/pk_20251008_ateliercvd070_hd.jpg" alt="Chez Caroline Debono">
                                    <div class="dropdown-media-overlay">
                                        <div class="dropdown-media-content">
                                            <h5 class="dropdown-media-title">Chez Caroline Debono, fondatrice d'Atelier CVD</h5>
                                            <p class="dropdown-media-subtitle">Debono, fondatrice</p>
                                            <p class="dropdown-media-description">d'Atelier CVD</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="nav-item nav-item-dropdown">
                    <a href="#" class="nav-link">MAISON</a>
                    <div class="dropdown-menu">
                        <div class="dropdown-content">
                            <div class="dropdown-columns">
                                <div class="dropdown-column">
                                    <div class="dropdown-section-title">Catégories</div>
                                    <a href="#" class="dropdown-link">Dressings</a>
                                    <a href="#" class="dropdown-link">Ponts de lits</a>
                                    <a href="#" class="dropdown-link">Buffets</a>
                                    <a href="#" class="dropdown-link">Rangements</a>
                                </div>
                                <div class="dropdown-column">
                                    <div class="dropdown-section-title hidden-title">Placeholder</div>
                                    <a href="#" class="dropdown-link">Salle de bain</a>
                                    <a href="#" class="dropdown-link">Bureaux</a>
                                    <a href="#" class="dropdown-link">Kids</a>
                                </div>
                                <div class="dropdown-column">
                                    <div class="dropdown-section-title">Shop</div>
                                    <a href="#" class="dropdown-link">Façades Pax</a>
                                    <a href="#" class="dropdown-link">Façades Metod</a>
                                    <a href="#" class="dropdown-link">Meubles ouverts</a>
                                    <a href="#" class="dropdown-link">Étagères</a>
                                    <a href="#" class="dropdown-link">Poignées</a>
                                    <a href="#" class="dropdown-link">Peinture</a>
                                </div>
                            </div>
                            <div class="dropdown-media">
                                <div class="dropdown-media-image">
                                    <img src="images/navbar/dressing.jpg" alt="Slide Givre avec poignées Pauline Borgia">
                                    <div class="dropdown-media-overlay">
                                        <div class="dropdown-media-content">
                                            <h5 class="dropdown-media-title">Slide Givre avec poignées Pauline Borgia</h5>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="experiments/media/index.html" class="nav-link">MEDIA</a>
                </li>
            </ul>

            <!-- Actions utilisateur -->
            <div class="navbar-actions">
                <!-- Barre de recherche -->
                <div class="search-container">
                    <button class="icon-button search-toggle" id="searchToggle" aria-label="Rechercher">
                        <svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                    </button>
                    <div class="search-bar" id="searchBar">
                        <input type="text" class="search-input" id="searchInput" placeholder="Rechercher..." aria-label="Rechercher">
                        <button class="search-close" id="searchClose" aria-label="Fermer la recherche">
                            <svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <!-- Icônes -->
                <div class="navbar-icons">
                    <button class="icon-button" aria-label="Mon compte">
                        <svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                    </button>
                    <button class="icon-button" aria-label="Panier">
                        <svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="9" cy="21" r="1"></circle>
                            <circle cx="20" cy="21" r="1"></circle>
                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                        </svg>
                    </button>
                </div>

                <!-- Bouton CTA -->
                <a href="#" class="btn-cta">
                    <svg class="btn-cta-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                        <polyline points="12 5 19 12 12 19"></polyline>
                    </svg>
                    <span class="btn-cta-text">JE COMMENCE</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header Section -->
        <section class="plumwall-header">
            <div class="container">
                <h2 class="plumwall-title">Vos projets</h2>
                <p class="plumwall-subtitle">Vos projets en cours pensés par vous, réalisés par nos Plum Planners, réalisés en 3D par nos artistes</p>
            </div>
        </section>

        <!-- Filters Section -->
        <section class="plumwall-filters">
            <div class="container">
                <div class="filters-nav">
                    <button class="filter-btn filter-btn-dropdown">
                        <span>Couleur</span>
                        <svg class="filter-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <button class="filter-btn filter-btn-dropdown">
                        <span>Design</span>
                        <svg class="filter-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <button class="filter-btn">Cuisines</button>
                    <button class="filter-btn">Dressings</button>
                    <button class="filter-btn">3D</button>
                    <button class="filter-btn">Home Tour</button>
                </div>
            </div>
        </section>

        <!-- Pinterest Grid -->
        <section class="plumwall-grid-section">
            <div class="container">
                <div class="plumwall-grid" id="plumwallGrid">
                    <!-- Les images seront chargées dynamiquement -->
                </div>
                <div class="loading-indicator" id="loadingIndicator" style="display: none;">
                    <div class="loading-spinner"></div>
                    <p>Chargement de plus de projets...</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Scripts -->
    <script>
        // Gestion simplifiée du hover sur les dropdowns
        const navbar = document.querySelector('.navbar');
        const dropdownItems = document.querySelectorAll('.nav-item-dropdown');
        
        if (navbar && dropdownItems.length > 0) {
            let closeTimeout = null;
            let currentHoveredItem = null;
            
            const openMenu = (dropdownItem) => {
                if (closeTimeout) {
                    clearTimeout(closeTimeout);
                    closeTimeout = null;
                }
                
                if (currentHoveredItem && currentHoveredItem !== dropdownItem) {
                    currentHoveredItem.classList.remove('is-hovered');
                }
                
                dropdownItem.classList.add('is-hovered');
                    // Sur la page plumwall, la navbar reste toujours blanche
                navbar.classList.add('navbar-white');
                navbar.classList.add('navbar-has-hover');
                currentHoveredItem = dropdownItem;
            };
            
            const closeMenu = () => {
                if (closeTimeout) {
                    clearTimeout(closeTimeout);
                }
                
                closeTimeout = setTimeout(() => {
                    if (currentHoveredItem) {
                        currentHoveredItem.classList.remove('is-hovered');
                        currentHoveredItem = null;
                    }
                    
                    // Sur la page plumwall, on garde toujours navbar-white et navbar-has-hover
                    // Ne pas retirer ces classes pour garder la navbar blanche par défaut
                    // navbar.classList.remove('navbar-white');
                    // navbar.classList.remove('navbar-has-hover');
                    closeTimeout = null;
                }, 100);
            };
            
            dropdownItems.forEach(dropdownItem => {
                const dropdownMenu = dropdownItem.querySelector('.dropdown-menu');
                
                if (dropdownMenu) {
                    dropdownItem.addEventListener('mouseenter', () => openMenu(dropdownItem));
                    dropdownMenu.addEventListener('mouseenter', () => openMenu(dropdownItem));
                    dropdownItem.addEventListener('mouseleave', closeMenu);
                    dropdownMenu.addEventListener('mouseleave', closeMenu);
                }
            });
        }

        // Gestion de la barre de recherche
        document.addEventListener('DOMContentLoaded', () => {
            const searchContainer = document.querySelector('.search-container');
            const searchBar = document.getElementById('searchBar');
            const searchInput = document.getElementById('searchInput');
            const searchClose = document.getElementById('searchClose');
            const searchToggle = document.getElementById('searchToggle');

            if (!searchContainer || !searchBar || !searchInput) {
                return;
            }

            function openSearchBar() {
                searchBar.classList.add('search-bar-active');
                setTimeout(() => {
                    searchInput.focus();
                }, 300);
            }

            function closeSearchBar() {
                searchBar.classList.remove('search-bar-active');
            }

            searchContainer.addEventListener('mouseenter', openSearchBar);
            searchContainer.addEventListener('mouseleave', closeSearchBar);
            searchBar.addEventListener('mouseleave', closeSearchBar);

            if (searchClose) {
                searchClose.addEventListener('click', (e) => {
                    e.stopPropagation();
                    closeSearchBar();
                    searchInput.value = '';
                    searchInput.blur();
                });
            }

            searchInput.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeSearchBar();
                    searchInput.value = '';
                    searchInput.blur();
                }
            });
        });
    </script>
    <script src="plum-plumwall/infinite-scroll.js"></script>
    <script src="plum-plumwall/project-transition.js"></script>
    <script src="shared/scripts/logo-fade.js"></script>
</body>
</html>
