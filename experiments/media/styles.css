/**
 * Media Page Styles - Plum Living
 * Page pixel perfect basée sur le design de référence
 */

/* Fade-in animation au chargement de la page */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes heroImageZoom {
  from {
    transform: scale(1.1);
  }
  to {
    transform: scale(1);
  }
}

/* Animation de transition overlay blanc (volet haut-bas) */
/* Phase 1 : overlay descend du haut (ease-in cubic) */
@keyframes mediaTransitionOverlayDown {
  from {
    transform: translateY(-100%);
  }
  to {
    transform: translateY(0%);
  }
}

/* Phase 2 : overlay remonte (ease-out cubic) */
@keyframes mediaTransitionOverlayUp {
  from {
    transform: translateY(0%);
  }
  to {
    transform: translateY(-100%);
  }
}

body {
  /* Désactiver complètement le fade pour la page media */
  /* La transition overlay remplace le fade */
  animation: none !important;
  position: relative;
}

/* Masquer le contenu au début de la transition */
body.media-transition {
  opacity: 0;
  overflow: hidden;
}

/* Afficher le contenu quand l'overlay remplit l'écran (à 0.5s) */
body.media-transition.content-visible {
  opacity: 1;
  transition: opacity 0.1s ease-out;
}

/* Désactiver l'overlay ::before de fade-transitions.css sur la page media */
body::before {
  display: none !important;
}

/* Désactiver toutes les transitions fade sur la page media */
body.fade-in,
body.fade-out,
html.fade-in,
html.fade-out {
  opacity: 1 !important;
  transition: none !important;
  animation: none !important;
}


/* Overlay blanc pour la transition home -> media */
/* Masqué par défaut - ne s'affiche que pendant la transition */
body::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--color-white);
  z-index: 99999;
  pointer-events: none;
  transform: translateY(-100%);
  will-change: transform;
  opacity: 0;
  visibility: hidden;
}

/* Activer l'animation de transition overlay */
/* Durée totale : 1s */
/* Phase 1 (0-0.5s) : descente avec ease-in cubic */
/* Phase 2 (0.5s-1s) : remontée avec ease-out cubic */
body.media-transition::after {
  opacity: 1;
  visibility: visible;
  /* Première animation : descente (0.5s avec ease-in cubic) */
  animation-name: mediaTransitionOverlayDown, mediaTransitionOverlayUp;
  animation-duration: 0.5s, 0.5s;
  animation-delay: 0s, 0.5s;
  animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19), cubic-bezier(0.215, 0.61, 0.355, 1);
  animation-fill-mode: forwards, forwards;
}

/* Masquer complètement l'overlay après l'animation */
body.media-transition.animation-complete::after {
  opacity: 0;
  visibility: hidden;
  transform: translateY(-100%);
}

.main-content {
  padding: 0 10px;
  min-height: 100vh;
  background-color: var(--color-white);
  /* Désactiver le fade-in, remplacé par la transition overlay */
  animation: none;
  opacity: 1;
  margin-top: 0;
}

.container {
  max-width: var(--container-max-width);
  margin: 0 auto;
  padding: 0 var(--container-padding);
}

/* ============================================
   HERO SECTION - Media Page
   ============================================ */

/* Le hero utilise les styles de hero.css de la landing */
/* Ajustements spécifiques pour la page media */

/* Hero full width */
.hero {
  position: relative;
  width: 100vw;
  height: 100vh;
  min-height: 600px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  margin: 0;
  padding: 0;
}

/* Hero background full width */
.hero .hero-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
}

.hero .hero-image-wrapper {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.hero .hero-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  display: block;
}

/* Ajustement du hero-content pour la page media */
.hero .hero-content {
  position: relative;
  z-index: 2;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: flex-end;
  justify-content: flex-start;
  padding-top: var(--navbar-height); /* 110px desktop, 80px mobile */
}

.hero .hero-container {
  width: 100%;
  max-width: 100%;
  padding: 0;
  margin: 0;
}

.hero-text-bottom-left {
  text-align: left !important;
  max-width: 100% !important;
  position: absolute;
  bottom: 0;
  left: 0;
  padding: var(--spacing-3xl);
  z-index: 3;
}

.hero-text-bottom-left .hero-title {
  font-family: var(--font-heading, 'Blacklist', sans-serif) !important;
  font-size: var(--font-size-h1) !important; /* 80px - H1 du DS (au lieu de 72px) */
  font-weight: 400 !important;
  line-height: var(--line-height-h1) !important; /* 90% */
  color: var(--color-white) !important;
  letter-spacing: -0.3px !important;
  margin: 0 !important;
  text-align: left !important;
  max-width: 60%;
  word-wrap: break-word;
  white-space: normal;
}

/* Désactiver le fade-in pour le hero - remplacé par la transition overlay */
.hero-fade-in {
  animation: none;
  opacity: 1;
}

.hero-fade-in .hero-image {
  animation: none;
  opacity: 1;
}

.hero-fade-in .hero-text {
  animation: none;
  opacity: 1;
}

/* ============================================
   CATEGORIES NAVIGATION
   ============================================ */

.media-categories {
  padding: var(--spacing-xl) 0;
  background-color: var(--color-white);
}

.categories-nav {
  display: flex;
  gap: 48px;
  align-items: center;
  justify-content: center;
}

.category-link {
  font-family: var(--font-primary);
  font-size: var(--font-size-m);
  font-weight: 500;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: var(--color-asphalte);
  text-decoration: none;
  position: relative;
  padding: var(--spacing-xs) 0;
  transition: color var(--transition-fast);
  display: inline-block;
}

.category-link:hover {
  color: var(--color-grey-1);
}

.category-link-active {
  text-decoration: underline;
  text-decoration-thickness: 1.5px;
  text-underline-offset: 6px;
  text-decoration-color: var(--color-asphalte);
}

/* ============================================
   ARTICLES GRID
   ============================================ */

.media-articles {
  padding: 0;
  background-color: var(--color-white);
  width: calc(100% + 20px);
  margin-left: -10px;
  margin-right: -10px;
  padding-left: 10px;
  padding-right: 10px;
}

.media-articles .container {
  max-width: 100%;
  padding: 0;
  margin: 0;
}

.articles-grid {
  column-count: 3;
  column-gap: 10px;
  width: 100%;
}

/* Article Card */
.article-card {
  display: inline-block;
  width: 100%;
  background-color: var(--color-white);
  overflow: hidden;
  cursor: pointer;
  break-inside: avoid;
  page-break-inside: avoid;
  margin-bottom: 0;
  opacity: 0;
  transform: translateY(30px);
  transition: opacity var(--transition-slow), transform var(--transition-slow);
}

.article-card.visible {
  opacity: 1;
  transform: translateY(0);
}

.article-card.visible:hover {
  transform: translateY(-4px);
}

/* Dernière image plus haute */
.article-card:last-child .article-image {
  min-height: 700px;
}

.article-card:last-child .article-img {
  height: 100%;
  min-height: 700px;
  object-fit: cover;
}

/* Trio container pour les 3 derniers articles */
.trio-container {
  display: flex;
  gap: 10px;
  width: 100%;
  margin-top: 10px;
  margin-bottom: 0;
}

.trio-container .article-card {
  flex: 1;
  width: calc(33.333% - 7px);
  min-width: 0;
  display: block;
  margin-bottom: 0;
}

.article-link {
  display: flex;
  flex-direction: column;
  text-decoration: none;
  color: inherit;
  height: 100%;
}

.article-image {
  width: 100%;
  overflow: hidden;
  background-color: var(--color-grey-4);
  position: relative;
}

.article-img {
  width: 100%;
  height: auto;
  object-fit: cover;
  object-position: center;
  display: block;
  transform: scale(1.1);
  transform-origin: center center;
  animation: heroImageZoom 2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  transition: transform 1.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.article-card:hover .article-img {
  transform: scale(1.05);
}

.article-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: var(--spacing-lg);
  background: linear-gradient(
    to top,
    rgba(0, 0, 0, 0.35) 0%,
    rgba(0, 0, 0, 0.2) 50%,
    rgba(0, 0, 0, 0) 100%
  );
  z-index: 2;
}

.article-title {
  font-family: var(--font-heading, 'Blacklist', sans-serif);
  font-size: var(--font-size-h3); /* 42px - H3 du DS (au lieu de 40px) */
  font-weight: 400;
  line-height: var(--line-height-h3); /* 120% */
  color: var(--color-white);
  margin: 0;
  letter-spacing: -0.2px;
  transition: opacity var(--transition-fast);
}

.article-card:hover .article-title {
  opacity: 0.9;
}

/* ============================================
   NAVBAR OVER HERO
   ============================================ */

/* Navbar en position absolute transparente comme sur la home */
[data-navbar] {
  position: relative;
  z-index: 1000;
  width: 100%;
  min-height: 80px; /* Hauteur minimale pour le conteneur */
}

.navbar-over-hero {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  background-color: transparent;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  border-bottom: none;
  transition: background-color 0.4s cubic-bezier(0.16, 1, 0.3, 1), border-color 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  z-index: 1000;
}

.navbar-over-hero.scrolled {
  background-color: var(--color-white);
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

.navbar-over-hero .nav-link {
  color: var(--color-white);
}

.navbar-over-hero.scrolled .nav-link {
  color: var(--color-asphalte);
}

.navbar-over-hero .icon-button {
  color: var(--color-white);
}

.navbar-over-hero.scrolled .icon-button {
  color: var(--color-asphalte);
}

.navbar-over-hero .btn-cta {
  background-color: var(--btn-secondary-bg); /* transparent */
  color: var(--btn-secondary-color); /* white */
  border: 1px solid var(--btn-secondary-border); /* white */
}

.navbar-over-hero.scrolled .btn-cta {
  background-color: var(--btn-secondary-bg); /* transparent */
  color: var(--btn-secondary-color); /* white */
  border: 1px solid var(--btn-secondary-border); /* white */
}

/* ============================================
   RESPONSIVE
   ============================================ */

/* Mobile */
@media (max-width: 480px) {
  .media-hero {
    height: 60vh;
    min-height: 400px;
    margin-top: var(--navbar-height);
  }

  .hero-content {
    padding: var(--spacing-2xl) var(--container-padding);
  }

  .hero-title {
    font-size: var(--font-size-l); /* 16px - L du DS (au lieu de 18px) */
    line-height: var(--line-height-body); /* 140% */
  }

  .media-categories {
    padding: var(--spacing-lg) 0;
  }

  .categories-nav {
    gap: var(--spacing-lg);
    flex-wrap: wrap;
  }

  .category-link {
    font-size: var(--font-size-s); /* 12px - S du DS */
  }

  .media-articles {
    padding: var(--spacing-2xl) 0;
  }

  .articles-grid {
    column-count: 1;
  }

  .article-title {
    font-size: var(--font-size-l); /* 16px - L du DS */
  }

  .trio-container {
    flex-direction: column;
    gap: 10px;
  }

  .trio-container .article-card {
    width: 100%;
  }
}

/* Petits écrans */
@media (max-width: 480px) {
  .media-hero {
    height: 50vh;
    min-height: 350px;
  }

  .hero-title {
    font-size: var(--font-size-l); /* 16px - L du DS */
  }

  .categories-nav {
    gap: var(--spacing-md);
  }

  .category-link {
    font-size: var(--font-size-xs); /* 10px - XS du DS (au lieu de 11px) */
  }
}

